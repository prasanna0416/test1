pipeline {
  agent any 
  tools {
    maven 'm3-9-3' /* Same Maven name as configured in Jenkins */
  }
  stages {
    stage ('Initialize') {
      steps {
        sh 'echo "PATH = ${https://github.com/prasanna0416/test1}"' // Use env.PATH to access the PATH environment variable
        sh 'echo "M2_HOME = ${JAVA_HOME}"' // Use env.M2_HOME to access the M2_HOME environment variable
      }
    }
    stage ('Check-Git-Secrets') {
      steps {
        withCredentials([sshUserPrivateKey(credentialsId: 'prasanna', keyFileVariable: 'poiuyt')]) {
          sh '''
            echo "${SSH_KEY}" > ssh_key
            chmod 600 ssh_key
            sshpass -p poiuyt ssh -i ssh_key prasanna@192.168.206.133 sudo docker run raphaelareya/gitleaks:latest -r https://github.com/prasanna0416/test1
          '''
        }
      }
    }
  }
}
