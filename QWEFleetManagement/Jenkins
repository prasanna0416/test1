pipeline {
  agent any 
  tools {
    maven 'm3-9-3' /* Same maven name as configured in Jenkins */
  }
  stages {
    stage ('Initialize') {
      steps {
        sh '#!/bin/bash\n' + 'echo "PATH = ${https://github.com/prasanna0416/test1}"'
        sh '#!/bin/bash\n' + 'echo "M2_HOME = ${JAVA_HOME}"'
      }
    }
    stage('Git Secret Integration') {
  steps {
    sh 'curl -LO https://github.com/awslabs/git-secrets/releases/download/v2.3.0/git-secrets-v2.3.0-linux-amd64.tar.gz'
        sh 'tar -xf git-secrets-v2.3.0-linux-amd64.tar'
        sh 'export PATH=$PATH:${WORKSPACE}/git-secrets-v2.3.0-linux-amd64' // Update the PATH to include the Git Secret binary
        sh 'git secrets --register-aws --global'
        sh 'git secrets --install ~/.git-templates/git-secrets'
        sh 'git config --global init.templateDir ~/.git-templates/git-secrets'
        sh 'echo "*.secret filter=git-secrets" >> ~/.gitattributes'
    sh 'git secrets --scan -r <https://github.com/prasanna0416/test1>' // Replace <path_to_repository> with the actual repository path
  }
}
    }
  }
